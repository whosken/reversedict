<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Tip-of-the-tongue? Look up words from their definitions.">
    <meta name="author" content="Ken Hu">

    <title>ReverseDict: Lookup words from their definitions</title>

    <!-- Bootstrap Core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="css/grayscale.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css">
    <link href="http://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body id="page-top" data-spy="scroll" data-target=".navbar-fixed-top">

    <!-- Navigation -->
    <nav class="navbar navbar-custom navbar-fixed-top" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-main-collapse">
                    <i class="fa fa-bars"></i>
                </button>
                <a class="navbar-brand page-scroll" href="#page-top">
                    <i class="fa fa-book"></i> Reverse<span class="light">Dict</span>
                </a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse navbar-right navbar-main-collapse">
                <ul class="nav navbar-nav">
                    <!-- Hidden li included to remove active class from about link when scrolled up past about section -->
                    <li class="hidden">
                        <a href="#page-top"></a>
                    </li>
                    <li>
                        <a class="page-scroll" href="#about">About</a>
                    </li>
                    <li>
                        <a class="page-scroll" href="#tool">Tool</a>
                    </li>
                    <li>
                        <a class="page-scroll" href="#download">Download</a>
                    </li>
                    <li>
                        <a class="page-scroll" href="#contact">Contact</a>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

    <!-- Intro Header -->
    <header class="intro">
        <div class="intro-body">
            <div class="container">
                <div class="row">
                    <div class="col-md-8 col-md-offset-2">
                        <h1 class="brand-heading">Reverse<span class="light">Dict</span></h1>
                        <p class="intro-text">Tip-of-the-tongue? Lookup words from their definitions.</p>
                        <div class="input-group">
                            <input id="searchOne" type="text" class="form-control" placeholder="Definition">
                            <span class="input-group-btn">
                                <button class="btn btn-default search-btn" type="button" onclick="javascript:search('#searchOne');return;">
                                    <i class="fa fa-search animated"></i>
                                </button>
                            </span>
                        </div>
                        <a href="#about" class="btn btn-circle page-scroll">
                            <i class="fa fa-angle-double-down animated"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- About Section -->
    <section id="about" class="container content-section text-center">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2">
                <h2>About</h2>
                <p>Ever had that problem when you know of the concept yet can't recall the word? Thesaurus are usually pretty poor at this task, because it's built to link individual words to each other, instead of definitions to a single word.</p>
                <p>This solution is built from <a href="https://wordnet.princeton.edu/" target="_blank">WordNet</a> through <a href="http://www.nltk.org" target="_blank">NLTK</a> and <a href="http://textblob.readthedocs.org/en/dev/" target="_blank">TextBlob</a>. It utilizes <a href="https://en.wikipedia.org/wiki/Tf%E2%80%93idf" target="_blank">Tf-idf</a> implemented by <a href="https://www.elastic.co/" target="_blank">Elasticsearch</a> to index each word by their definitions.</p>
                <a href="#tool" class="btn btn-circle page-scroll">
                    <i class="fa fa-angle-double-down animated"></i>
                </a>
            </div>
        </div>
    </section>
    
    <!-- Tool Section -->
    <section id="tool" class="container content-section text-center">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2">
                <h2>Tool</h2>
                <div class="input-group">
                    <input id="searchTwo" type="text" class="form-control" placeholder="Definition">
                    <span class="input-group-btn">
                        <button class="btn btn-default search-btn" type="button" onclick="javascript:search('#searchTwo');return;">
                            <i class="fa fa-search animated"></i>
                        </button>
                    </span>
                </div>
                <table class="table text-left" id="resultsTable">
                    <caption>Top words with similar definitions</caption>
                    <thead>
                        <tr>
                            <th>Word</th>
                            <th>Top Definition(s)</th>
                            <th>Top Synonyms(s)</th>
                        </tr>
                    </thead>
                    <tbody id="resultsBody">
                    </tbody>
                </table>
                <p><small>Find it useful? <a href="https://donorbox.org/reversedict" target="_blank">Help me</a> host this tool.</small></p>
                <a href="#download" class="btn btn-circle page-scroll">
                    <i class="fa fa-angle-double-down animated"></i>
                </a>
            </div>
        </div>
    </section>

    <!-- Download Section -->
    <section id="download" class="content-section text-center">
        <div class="download-section">
            <div class="container">
                <div class="col-lg-8 col-lg-offset-2">
                    <h2>Download</h2>
                    <p>
                        The Python library is available on <a href="https://pypi.python.org/pypi/reversedict/" class="btn btn-default btn-sm" target="_blank">PyPI</a>. <br/>Install via <code>pip install reversedict</code>.
                    </p>
                    <p>
                        The code is also available on <a href="https://github.com/whosken/reversedict" class="btn btn-default btn-sm" target="_blank">Github</a>. <br/>It contains the library, CLI, and this basic web service.
                    </p>
                    <a href="#contact" class="btn btn-circle page-scroll">
                        <i class="fa fa-angle-double-down animated"></i>
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="container content-section text-center">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2">
                <h2>Contact Developer</h2>
                <p>Please don't hesitate to contact me on how to improve ReverseDict. <br/>I am also available for contract work.</p>
                <p><a href="mailto:whosbacon@gmail.com">whosbacon@gmail.com</a>
                </p>
                <ul class="list-inline banner-social-buttons">
                    <li>
                        <a href="http://whosbacon.com" class="btn btn-default btn-lg" target="_blank">
                            <i class="fa fa-home fa-fw"></i> <span class="network-name">Home</span>
                        </a>
                    </li>
                    <li>
                        <a href="https://twitter.com/whosbacon" class="btn btn-default btn-lg" target="_blank">
                            <i class="fa fa-twitter fa-fw"></i> <span class="network-name">Twitter</span>
                        </a>
                    </li>
                    <li>
                        <a href="https://github.com/whosken" class="btn btn-default btn-lg" target="_blank">
                            <i class="fa fa-github fa-fw"></i> <span class="network-name">Github</span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container text-center">
            <p>Copyright &copy; Ken Hu 2016</p>
            <p>Template by <a href="http://startbootstrap.com/" target="_blank">Start Bootstrap</a></p>
            <p>Photos from <a href="https://unsplash.com/" target="_blank">Unsplash</a></p>
        </div>
    </footer>

    <!-- jQuery -->
    <script src="js/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="js/bootstrap.min.js"></script>

    <!-- Plugin JavaScript -->
    <script src="js/jquery.easing.min.js"></script>

    <!-- Custom Theme JavaScript -->
    <script src="js/grayscale.js"></script>
    
    <script type="text/javascript" src="js/reversedict.js"></script>
    <script type="text/javascript">
        var $resultsBody = $('#resultsBody');
        var $searchOne = $('#searchOne');
        var $searchTwo = $('#searchTwo');
        var $searchButtons = $('.search-btn');
        
        var scrollToResultsBody = function(){
            $('html, body').animate({
                scrollTop: $("#resultsTable").offset().top - 50
            }, 1500);
        };
        var displayResults = function(data){
            $resultsBody.empty();
            console.log(data);
            var resultRows = $.map(data, createResultRow);
            $resultsBody.html(resultRows.join(''));
            scrollToResultsBody();
            resetSearchButtons();
        };
        var createResultRow = function(result){
            return '<tr><th scope="row"><a href="https://en.wiktionary.org/wiki/'+result.term+'" target="_blank">'+
                result.term+'</a></th><td>'+
                result.definitions.slice(0,5).join('<br/>')+'</td><td>'+
                result.synonyms.slice(0,10).join(', ')+'</td></tr>';
        };
        var resetSearchButtons = function(){
            $searchButtons.html('<i class="fa fa-search animated"></i>');
            $searchButtons.removeAttr('disabled');
            
        };
        var spinSearchButtons = function(){
            $searchButtons.html('<i class="fa fa-spinner animated"></i>');
            $searchButtons.attr('disabled','disabled');
        };
        var setSearchBoxValue = function(description){
            $searchOne.val(description);
            $searchTwo.val(description);
        };
        
        var search = function(searchId){
            spinSearchButtons();
            var description = $(searchId).val();
            console.log(searchId, description);
            ReverseDict.lookup(description, displayResults);
            setSearchBoxValue(description);
            location.hash = '#'+description;
        };
        
        $(document).ready(function(){
            $searchOne.bind("keypress",function(event){
                if(event.which==13){ // Enter
                    event.preventDefault();
                    search('#searchOne');
                }
            });
            $searchTwo.bind("keypress",function(event){
                if(event.which==13){ // Enter
                    event.preventDefault();
                    search('#searchTwo');
                }
            });
            
            if(location.hash){
                var query = location.hash.slice(1);
                setSearchBoxValue(query)
                search('#searchTwo');
            }
        });
    </script>
    
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-46000937-1', 'auto');
      ga('send', 'pageview');

    </script>

</body>

</html>
